<div class="dashboard-container">
    <header class="dashboard-header">
        <h1>Painel Administrativo</h1>
        <p class="subtitle">Bem-vindo ao sistema de gerenciamento Patas SolidÃ¡rias</p>
    </header>

    @if (erro) {
    <div class="alert alert-danger">
        {{ erro }}
    </div>
    }

    <!-- EstatÃ­sticas -->
    <section class="estatisticas-section">
        <h2>EstatÃ­sticas Gerais</h2>
        @if (!carregando) {
        <div class="cards-grid">
            @for (stat of estatisticas; track stat.titulo) {
            <div class="stat-card" [class]="'stat-card-' + stat.cor" [routerLink]="stat.link"
                [class.clickable]="stat.link">
                <div class="stat-icon">{{ stat.icone }}</div>
                <div class="stat-content">
                    <h3>{{ stat.titulo }}</h3>
                    <p class="stat-valor">{{ stat.valor }}</p>
                </div>
            </div>
            }
        </div>
        }
        @if (carregando) {
        <div class="loading">
            Carregando estatÃ­sticas...
        </div>
        }
    </section>

    <!-- AÃ§Ãµes RÃ¡pidas -->
    <section class="acoes-section">
        <h2>AÃ§Ãµes RÃ¡pidas</h2>
        <div class="acoes-grid">
            @for (acao of acoesRapidas; track acao.link) {
            <a [routerLink]="acao.link" class="acao-card" [class]="'acao-card-' + acao.cor">
                <div class="acao-icon">{{ acao.icone }}</div>
                <div class="acao-content">
                    <h3>{{ acao.titulo }}</h3>
                    <p>{{ acao.descricao }}</p>
                </div>
                <div class="acao-arrow">â†’</div>
            </a>
            }
        </div>
        @if (acoesRapidas.length === 0) {
        <div class="sem-permissoes">
            <p>VocÃª nÃ£o possui permissÃµes administrativas ativas.</p>
        </div>
        }
    </section>

    <!-- Charts Section -->
    @if (!carregando) {
    <section class="charts-section">
        <div class="charts-header">
            <h2>AnÃ¡lises Visuais</h2>

            <!-- Filtros -->
            <div class="filtros-container">
                <form [formGroup]="filtrosForm" class="filtros-form">
                    <div class="filtro-group">
                        <label for="periodo">PerÃ­odo</label>
                        <select id="periodo" formControlName="periodo" class="filtro-select">
                            <option value="semana">ðŸ“… Semana Atual</option>
                            <option value="mes">ðŸ“Š MÃªs Atual</option>
                            <option value="ano">ðŸ“ˆ Ano Completo</option>
                        </select>
                    </div>

                    <div class="filtro-group">
                        <label for="plano">Tipo de Plano</label>
                        <select id="plano" formControlName="plano" class="filtro-select">
                            <option value="todos">Todos os Planos</option>
                            <option value="15">ðŸ’š R$ 15,00</option>
                            <option value="30">ðŸ’™ R$ 30,00</option>
                            <option value="60">ðŸ’› R$ 60,00</option>
                        </select>
                    </div>

                    <button type="button" (click)="limparFiltros()" class="btn-limpar-filtros">
                        ðŸ”„ Limpar
                    </button>
                </form>
            </div>
        </div>

        <div class="charts-grid">
            <div class="chart-card">
                <h3>Crescimento de Apoiadores</h3>
                <app-chart [type]="'bar'" [data]="chartData" [labels]="chartLabels" [colors]="chartColors">
                </app-chart>
            </div>
            <div class="chart-card">
                <h3>DistribuiÃ§Ã£o por Plano</h3>
                <app-chart [type]="'doughnut'" [data]="doughnutData" [labels]="doughnutLabels"
                    [colors]="doughnutColors">
                </app-chart>
            </div>
        </div>
    </section>
    }
</div>