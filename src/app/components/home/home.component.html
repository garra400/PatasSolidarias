<div class="home-container">
  <!-- Hero Section - Donation Call -->
  <section class="hero-donation">
    <div class="container">
      <div class="donation-card">
        <h2>Faça uma doação</h2>
        <p>Sua ajuda salva os animais do nosso campus</p>
        <a routerLink="/login" class="btn-donate">Doar agora</a>
      </div>
    </div>
  </section>

  <!-- Project Info Section -->
  <section class="project-info">
    <div class="container">
      <div class="info-content">
        <img src="/assets/images/logo.png" alt="DCE Patas Solidárias" class="project-logo">
        <div class="info-text">
          <h2>Patas Solidárias</h2>
          <p>
            O projeto Patas Solidárias surgiu com o intuito de arrecadarmos ração
            para os animais que vivem no nosso campus da UTFPR-MD. Com isso
            esperamos tocar o coração de vocês apresentando nossas patinhas e
            arrecadando ração ou um valor solidário que será convertido em ração.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Animal Carousel Section -->
  <section id="conheca-patinhas" class="animal-carousel">
    <div class="container">
      <h2 class="section-title">Conheça Nossas Patinhas</h2>

      <!-- Loading -->
      @if (isLoadingAnimals) {
        <div class="loading-animals">
          <div class="spinner"></div>
          <p>Carregando nossos animais...</p>
        </div>
      }

      <!-- Carousel com animais -->
      @if (!isLoadingAnimals && currentAnimal) {
        <div class="carousel-container">
          <div class="carousel-content">
            <div class="animal-image-wrapper">
              <div class="animal-image-border">
                <img 
                  [src]="currentAnimal.imagemPrincipal" 
                  [alt]="currentAnimal.nome" 
                  [title]="currentAnimal.nome"
                  role="img" 
                  class="animal-image" 
                  (error)="onImageError($event)"
                />
              </div>
            </div>

            <div class="animal-info">
              <h3>{{ currentAnimal.nome }}</h3>
              <p>{{ currentAnimal.descricao }}</p>
              <div class="carousel-controls">
                <button (click)="previousAnimal()" class="carousel-btn" title="Anterior">❮</button>
                <div class="carousel-dots">
                  @for (animal of animals; track animal._id; let i = $index) {
                    <span 
                      [class.active]="i === currentAnimalIndex" 
                      (click)="currentAnimalIndex = i" 
                      class="dot"
                      [title]="animal.nome"
                    ></span>
                  }
                </div>
                <button (click)="nextAnimal()" class="carousel-btn" title="Próximo">❯</button>
              </div>
            </div>
          </div>
        </div>
      }

      <!-- Estado vazio -->
      @if (!isLoadingAnimals && !currentAnimal) {
        <div class="empty-state">
          <p>Nenhum animal cadastrado no momento</p>
        </div>
      }
    </div>
  </section>

  <!-- Sponsor Section -->
  <section id="campanha" class="sponsor-section">
    <div class="container">
      <div class="sponsor-content">
        <div class="sponsor-text">
          <h2>Campanha</h2>
          <b>Todo valor arrecadado será convertido em ração para nossas patinhas da UTFPR-MD</b>
          <p>
            Para fazer uma doação para o projeto Patas Solidárias, você pode escolher doar
            um valor que caiba no seu bolso, um valor simbólico de R$ 15,00 mensais. Ou
            se associar no projeto e receber brindes e fotos exclusivas das nossas patinhas.
          </p>
          <a routerLink="/login" class="btn-sponsor">SEJA UM APOIADOR!!</a>
        </div>
        <div class="sponsor-image-wrapper">
          <div class="sponsor-image">
            <img src="/assets/images/logo.png" alt="Seja um Apoiador">
          </div>
          <b class="image-caption">
            Caso você seja um residente na cidade de Medianeira-Pr nós também
            temos nossa caixa de arrecadações de ração.
          </b>
        </div>
      </div>

      <div class="stickers-showcase">
        <h3>{{ getTituloBrindes() }}</h3>
        
        <!-- Loading -->
        @if (isLoadingBrindes) {
          <div class="loading-brindes">
            <div class="spinner"></div>
            <p>Carregando brindes...</p>
          </div>
        }

        <!-- Brindes da API -->
        @if (!isLoadingBrindes && brindesDestaque.length > 0) {
          <div class="stickers-grid">
            @for (brinde of brindesDestaque; track brinde.id) {
              <div class="sticker-item">
                <img 
                  [src]="getImageUrl(brinde)" 
                  [alt]="brinde.nome"
                  [title]="brinde.nome"
                  (error)="onImageError($event)"
                />
                <div class="brinde-info">
                  <span class="brinde-nome">{{ brinde.nome }}</span>
                </div>
              </div>
            }
          </div>
        }

        <!-- Fallback para imagens estáticas -->
        @if (!isLoadingBrindes && brindesDestaque.length === 0) {
          <div class="stickers-grid">
            <div class="sticker-item">
              <img src="/assets/images/figurinha1.jpg" alt="Adesivo 1">
            </div>
            <div class="sticker-item">
              <img src="/assets/images/figurinha2.jpg" alt="Adesivo 2">
            </div>
            <div class="sticker-item">
              <img src="/assets/images/figurinha3.jpg" alt="Adesivo 3">
            </div>
            <div class="sticker-item">
              <img src="/assets/images/figurinha4.jpg" alt="Adesivo 4">
            </div>
          </div>
        }
      </div>
    </div>
  </section>

</div>